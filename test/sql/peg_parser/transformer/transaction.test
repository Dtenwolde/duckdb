# name: test/sql/peg_parser/transformer/transaction.test
# description: 
# group: [transformer]

require autocomplete

statement ok
call peg_parser();

statement ok
start;

statement error
begin;
----
TransactionContext Error: cannot start a transaction within a transaction

statement error
start transaction read only;
----
TransactionContext Error: Current transaction is aborted (please ROLLBACK)

statement error
start transaction read write;
----
TransactionContext Error: Current transaction is aborted (please ROLLBACK)

statement ok
abort transaction

statement error
commit
----
TransactionContext Error: cannot commit - no transaction is active

statement error
end
----
TransactionContext Error: cannot commit - no transaction is active
